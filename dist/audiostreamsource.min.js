/**
 * @license audiostreamsource.js 0.0.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/audiostreamsource.js for details
 */
!function(a,b){"function"==typeof define&&define.amd&&define([],b),"undefined"!=typeof module&&module.exports?module.exports=b():a.audioStreamSource=b()}(this,function(){function a(a){return function(){var b=a;b&&(a=void 0,b.apply(null,arguments))}}function b(a,b){var c=this,d=a.context;a.autoPlay;audio=new Audio,audio.addEventListener("error",function(a){b(a)}),audio.addEventListener("canplay",function(){c.source=d.createMediaElementSource(audio),b(null,c)}),audio.src=a.src,audio.loop=a.loop,audio.autoPlay=a.autoPlay,audio.load(),this.play=function(){audio.play()},this.stop=function(){audio.pause()}}function c(a,b){var c,d=this,e=a.context,f=a.loop,g=a.autoPlay,h=new XMLHttpRequest;h.open("GET",a.lofiSrc||a.src,!0),h.responseType="arraybuffer",h.addEventListener("error",function(a){b(a)}),h.addEventListener("load",function(){e.decodeAudioData(h.response,function(a){c=e.createBufferSource(),c.buffer=a,c.loop=f,g&&c.start(0),d.source=c,b(null,d)})}),h.send(),this.play=function(){c.start(0)},this.stop=function(){c.stop(0)}}function d(d,f){return f=a(f),new(e?c:b)(d,f)}var e=void 0===window.AudioContext&&/iPhone|iPad|iPod/.test(navigator.userAgent);return{create:d}});